<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Kết quả bài kiểm tra</title>
  <style>
    
    body { font-family: Arial; max-width: 700px; margin: 20px auto; }
    .box { background: #fff; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px #ccc; margin-top: 20px; }
    input, button { width: 100%; padding: 10px; margin: 5px 0; }
  </style>
</head>
<body>
  <h2>Xem kết quả</h2>
  <div class="box">
    <input type="text" id="roomCodeInput" placeholder="Nhập mã phòng">
    <button id="viewResultsBtn">Xem kết quả</button>
  </div>

  <div id="resultsBox" class="box" style="display:none;"></div>

  <script>
    document.getElementById("viewResultsBtn").addEventListener("click", () => {
      const roomCode = document.getElementById("roomCodeInput").value.trim().toUpperCase();
      const data = localStorage.getItem("room_" + roomCode);
      if (!data) return alert("Không tìm thấy phòng này");

      const roomData = JSON.parse(data);
      const resultsBox = document.getElementById("resultsBox");
      resultsBox.style.display = "block";

      let html = "<h3>Kết quả phòng " + roomCode + "</h3><ul>";
      roomData.results.forEach(r => {
        html += `<li><b>${r.name}</b>: ${r.score}</li>`;
      });
      html += "</ul>";
      resultsBox.innerHTML = html;
    });
fetch("https://api.unsplash.com/photos/random?query=classroom&client_id=Pd8APIXjQwibU2oEFAiaOUVp4hi9NDh6LTPVNOff2cI")
  .then(res => res.json())
  .then(data => {
    document.body.style.backgroundImage = `url(${data.urls.full})`;
    document.body.style.backgroundSize = "cover";
    document.body.style.backgroundPosition = "center";
  });

  </script>
</body>
</html>
