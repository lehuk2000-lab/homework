<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>The Homework</title>
  <link rel="stylesheet" href="thw.css" />
  <style>
    nav { display: flex; justify-content: center; gap: 20px; margin-top: 20px; }
    .welcome { text-align: center; margin-top: 10px; font-size: 18px; color: #3a0ca3; }
    .logout-btn {
      background: #ef233c; color: white; border: none;
      padding: 10px 16px; border-radius: 6px; cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="logo">TheHomework</div>
  <div class="welcome" id="welcomeMsg"></div>

  <nav>
    <a href="index.html">Trang chá»§</a>
    <a href="room.html">Tham gia</a>
    <a href="store.html">Xem láº¡i bÃ i kiá»ƒm tra</a>
    <a href="homework.html" id="createTestLink">Táº¡o bÃ i kiá»ƒm tra</a>
    <a href="loginfrom.html" id="loginLink">ÄÄƒng nháº­p</a>
    <a href="Registerfrom.html" id="registerLink">ÄÄƒng kÃ½</a>
    <button id="logoutBtn" class="logout-btn" style="display: none;">ÄÄƒng xuáº¥t</button>
  </nav>

  <section class="hero">
    <h1>Táº¡o BÃ i Kiá»ƒm Tra Dá»… DÃ ng & Vui Nhá»™n</h1>
    <button onclick="window.location.href='room.html'">Báº¯t Ä‘áº§u ngay</button>
  </section>

  <section class="features">
    <div class="feature-box">
      <h3>Tráº¯c nghiá»‡m linh hoáº¡t</h3>
      <p>Táº¡o cÃ¢u há»i tá»± do, chá»n nhiá»u hÃ¬nh thá»©c kiá»ƒm tra</p>
    </div>
    <div class="feature-box">
      <h3>Cháº¥m Ä‘iá»ƒm tá»± Ä‘á»™ng</h3>
      <p>Tiáº¿t kiá»‡m thá»i gian cho giÃ¡o viÃªn</p>
    </div>
    <div class="feature-box">
      <h3>LÆ°u bÃ i kiá»ƒm tra</h3>
      <p>GiÃ¡o viÃªn cÃ³ thá»ƒ xem láº¡i bÃ i kiá»ƒm tra</p>
    </div>
  </section>

  <script type="module">
    
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";
  import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

  // Cáº¥u hÃ¬nh Firebase cá»§a báº¡n
  const firebaseConfig = {
    apiKey: "AIzaSyCeknM8tnc_iwZD6kZO5PtTQNlnwZDcsNk",
      authDomain: "homework-c9856.firebaseapp.com",
      projectId: "homework-c9856",
      storageBucket: "homework-c9856.appspot.com",
      messagingSenderId: "311478945480",
      appId: "1:311478945480:web:2bce7ce956cde6adeb07fd"
  };

  // Khá»Ÿi táº¡o Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);
  const db = getFirestore(app);

  const welcome = document.getElementById("welcomeMsg");
  const loginLink = document.getElementById("loginLink");
  const registerLink = document.getElementById("registerLink");
  const logoutBtn = document.getElementById("logoutBtn");
  const createTestLink = document.getElementById("createTestLink");

  createTestLink.style.display = "none";

  // Theo dÃµi tráº¡ng thÃ¡i Ä‘Äƒng nháº­p
 onAuthStateChanged(auth, (user) => {
  if (user) {
    welcome.textContent = `ğŸ‘‹ Xin chÃ o, ${user.email}`;
    loginLink.style.display = "none";
    registerLink.style.display = "none";
    logoutBtn.style.display = "inline-block";
    createTestLink.style.display = "inline-block"; // náº¿u muá»‘n luÃ´n hiá»‡n
  } else {
    welcome.textContent = "";
    loginLink.style.display = "inline-block";
    registerLink.style.display = "inline-block";
    logoutBtn.style.display = "none";
    createTestLink.style.display = "none";
  }
  
});

</script>
</body>
</html>
